<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Python Learning Flowchart</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    .flowchart-container {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    
    .flow-box {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .flow-box:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }
    
    .connector {
      position: relative;
      margin: 0 auto;
    }
    
    .connector::before {
      content: '';
      position: absolute;
      left: 50%;
      top: 0;
      width: 3px;
      height: 100%;
      transform: translateX(-50%);
    }
    
    .arrow-down {
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      margin: 0 auto;
    }
    
    .detail-panel {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, opacity 0.4s ease;
      opacity: 0;
    }
    
    .detail-panel.active {
      max-height: 500px;
      opacity: 1;
    }
    
    .code-example {
      font-family: 'Courier New', monospace;
      padding: 12px;
      border-radius: 6px;
      margin: 8px 0;
      font-size: 14px;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div id="app" class="h-full w-full overflow-auto flowchart-container"></div>
  <script>
    const defaultConfig = {
      main_title: "How to Use Python",
      subtitle: "A Step-by-Step Learning Journey",
      background_color: "#f0f9ff",
      surface_color: "#ffffff",
      text_color: "#1e293b",
      primary_action_color: "#3b82f6",
      secondary_action_color: "#64748b",
      font_family: "Inter",
      font_size: 16
    };

    const flowSteps = [
      {
        id: 1,
        title: "üêç Install Python",
        description: "Download and install Python from python.org",
        details: "Visit python.org and download the latest version. Make sure to check 'Add Python to PATH' during installation.",
        code: "# Check if Python is installed\npython --version"
      },
      {
        id: 2,
        title: "üìù Choose an Editor",
        description: "Select a code editor (VS Code, PyCharm, or IDLE)",
        details: "VS Code is beginner-friendly and free. PyCharm is powerful for larger projects. IDLE comes with Python.",
        code: null
      },
      {
        id: 3,
        title: "üëã Write Your First Program",
        description: "Create a simple 'Hello World' program",
        details: "This is the traditional first program. It teaches you how to display output.",
        code: "print('Hello, World!')"
      },
      {
        id: 4,
        title: "üî§ Learn Basic Syntax",
        description: "Variables, data types, and operators",
        details: "Understand how to store data in variables and perform basic operations.",
        code: "name = 'Alice'\nage = 25\nprint(f'{name} is {age} years old')"
      },
      {
        id: 5,
        title: "üîÄ Control Flow",
        description: "If statements, loops, and conditions",
        details: "Learn to make decisions in your code and repeat actions.",
        code: "for i in range(5):\n    if i % 2 == 0:\n        print(f'{i} is even')"
      },
      {
        id: 6,
        title: "üß© Functions & Modules",
        description: "Organize code into reusable pieces",
        details: "Functions help you write cleaner, reusable code. Modules let you organize larger projects.",
        code: "def greet(name):\n    return f'Hello, {name}!'\n\nprint(greet('Python'))"
      },
      {
        id: 7,
        title: "üöÄ Build Projects",
        description: "Practice with real applications",
        details: "Start with simple projects like calculators, to-do lists, or games. Practice is key!",
        code: null
      }
    ];

    let activeStep = null;

    async function onConfigChange(config) {
      const app = document.getElementById('app');
      const baseSize = config.font_size || defaultConfig.font_size;
      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontStack = '-apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif';
      
      const backgroundColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;
      
      app.style.backgroundColor = backgroundColor;
      app.style.color = textColor;
      app.style.fontFamily = `${customFont}, ${baseFontStack}`;
      
      app.innerHTML = `
        <div style="max-width: 800px; margin: 0 auto; padding: ${baseSize * 2}px ${baseSize}px;">
          <header style="text-align: center; margin-bottom: ${baseSize * 2}px;">
            <h1 style="font-size: ${baseSize * 2.5}px; font-weight: 700; color: ${textColor}; margin-bottom: ${baseSize * 0.5}px;">
              ${config.main_title || defaultConfig.main_title}
            </h1>
            <p style="font-size: ${baseSize * 1.1}px; color: ${secondaryColor};">
              ${config.subtitle || defaultConfig.subtitle}
            </p>
          </header>
          
          <div id="flowchart-steps"></div>
          
          <footer style="text-align: center; margin-top: ${baseSize * 3}px; padding-top: ${baseSize * 2}px; border-top: 2px solid ${secondaryColor};">
            <p style="font-size: ${baseSize * 0.9}px; color: ${secondaryColor};">
              Click on any step to learn more! üéì
            </p>
          </footer>
        </div>
      `;
      
      const flowchartSteps = document.getElementById('flowchart-steps');
      
      flowSteps.forEach((step, index) => {
        const stepDiv = document.createElement('div');
        stepDiv.style.marginBottom = `${baseSize}px`;
        
        stepDiv.innerHTML = `
          <div class="flow-box" 
               data-step-id="${step.id}"
               style="background: ${surfaceColor}; 
                      border-radius: 12px; 
                      padding: ${baseSize * 1.25}px ${baseSize * 1.5}px; 
                      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                      border: 2px solid ${primaryColor};">
            <h3 style="font-size: ${baseSize * 1.3}px; 
                       font-weight: 600; 
                       color: ${textColor}; 
                       margin-bottom: ${baseSize * 0.4}px;">
              ${step.title}
            </h3>
            <p style="font-size: ${baseSize * 0.95}px; 
                      color: ${secondaryColor}; 
                      margin: 0;">
              ${step.description}
            </p>
          </div>
          
          <div class="detail-panel" 
               data-detail-id="${step.id}"
               style="background: ${surfaceColor}; 
                      margin-top: ${baseSize * 0.75}px; 
                      padding: ${baseSize * 1.25}px; 
                      border-radius: 8px; 
                      border-left: 4px solid ${primaryColor};">
            <p style="font-size: ${baseSize * 0.95}px; 
                      color: ${textColor}; 
                      margin-bottom: ${step.code ? baseSize : 0}px;">
              ${step.details}
            </p>
            ${step.code ? `
              <div class="code-example" 
                   style="background: ${backgroundColor}; 
                          color: ${textColor}; 
                          font-size: ${baseSize * 0.85}px;">
                ${step.code.replace(/</g, '&lt;').replace(/>/g, '&gt;')}
              </div>
            ` : ''}
          </div>
          
          ${index < flowSteps.length - 1 ? `
            <div class="connector" style="height: ${baseSize * 1.5}px; width: 3px; margin: ${baseSize * 0.5}px auto;">
              <div style="background: ${primaryColor}; width: 100%; height: calc(100% - 10px);"></div>
              <div class="arrow-down" style="border-top: 12px solid ${primaryColor};"></div>
            </div>
          ` : ''}
        `;
        
        flowchartSteps.appendChild(stepDiv);
      });
      
      document.querySelectorAll('.flow-box').forEach(box => {
        box.addEventListener('click', function() {
          const stepId = this.dataset.stepId;
          const detailPanel = document.querySelector(`[data-detail-id="${stepId}"]`);
          
          if (activeStep === stepId) {
            detailPanel.classList.remove('active');
            activeStep = null;
          } else {
            document.querySelectorAll('.detail-panel').forEach(panel => {
              panel.classList.remove('active');
            });
            detailPanel.classList.add('active');
            activeStep = stepId;
          }
        });
      });
    }

    window.elementSdk.init({
      defaultConfig: defaultConfig,
      onConfigChange: onConfigChange,
      mapToCapabilities: (config) => ({
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              window.elementSdk.setConfig({ background_color: value });
            }
          },
          {
            get: () => config.surface_color || defaultConfig.surface_color,
            set: (value) => {
              config.surface_color = value;
              window.elementSdk.setConfig({ surface_color: value });
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              window.elementSdk.setConfig({ text_color: value });
            }
          },
          {
            get: () => config.primary_action_color || defaultConfig.primary_action_color,
            set: (value) => {
              config.primary_action_color = value;
              window.elementSdk.setConfig({ primary_action_color: value });
            }
          },
          {
            get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
            set: (value) => {
              config.secondary_action_color = value;
              window.elementSdk.setConfig({ secondary_action_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            config.font_family = value;
            window.elementSdk.setConfig({ font_family: value });
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            config.font_size = value;
            window.elementSdk.setConfig({ font_size: value });
          }
        }
      }),
      mapToEditPanelValues: (config) => new Map([
        ["main_title", config.main_title || defaultConfig.main_title],
        ["subtitle", config.subtitle || defaultConfig.subtitle]
      ])
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b17bc23b3893989',t:'MTc2NjMyMzgzNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>